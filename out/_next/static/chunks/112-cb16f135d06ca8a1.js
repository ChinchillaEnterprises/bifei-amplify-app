"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{4229:(e,t,n)=>{n.d(t,{K$:()=>c,eA:()=>a,xO:()=>d});var o=n(49173),i=n(85199),r=n(22224);let s=async()=>{throw new i.l({name:r.A0,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})},a=s;function c(e){a=e}function d(e=!0){e&&(a=s),o.z.dispatch({type:"RESET"})}},17314:(e,t,n)=>{n.d(t,{M:()=>r});var o=n(54539),i=n(85199);function r(e,t){let{message:n,recoverySuggestion:r}=o.ut[t];if(!e)throw new i.l({name:t,message:n,recoverySuggestion:r})}},20417:(e,t,n)=>{n.d(t,{O:()=>E});var o=n(99927),i=n(60012),r=n(89492),s=n(92193),a=n(78317),c=n(28043),d=n(33629),l=n(73989),p=n(66904);async function E({username:e,config:t,clientMetadata:n,session:c,tokenOrchestrator:d}){let{userPoolId:l,userPoolEndpoint:p}=t,E=t.userPoolClientId,m=await d?.getDeviceMetadata(e);(0,s.O_)(m);let x=await (0,a.H)(m.deviceGroupKey),h={USERNAME:e,SRP_A:x.A.toString(16),DEVICE_KEY:m.deviceKey},S=(0,o.H)({endpointResolver:(0,i.o)({endpointOverride:p})}),{ChallengeParameters:g,Session:I}=await S({region:(0,r.J)(l)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:E,ChallengeResponses:h,ClientMetadata:n,Session:c});return u(e,g,n,I,x,t,d)}async function u(e,t,n,a,E,{userPoolId:u,userPoolClientId:m,userPoolEndpoint:x},h){let S=await h?.getDeviceMetadata(e);(0,s.O_)(S);let g=new l.A(t?.SRP_B,16),I=new l.A(t?.SALT,16),{deviceKey:A}=S,{deviceGroupKey:R}=S,f=await E.getPasswordAuthenticationKey({username:S.deviceKey,password:S.randomPassword,serverBValue:g,salt:I}),y=(0,c.q)(),C={USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:y,PASSWORD_CLAIM_SIGNATURE:(0,d.I)({username:A,userPoolName:R,challengeParameters:t,dateNow:y,hkdf:f}),DEVICE_KEY:A},P=(0,p.d)({username:e,userPoolId:u,userPoolClientId:m});return(0,o.H)({endpointResolver:(0,i.o)({endpointOverride:x})})({region:(0,r.J)(u)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:m,ChallengeResponses:C,Session:a,ClientMetadata:n,UserContextData:P})}},27796:(e,t,n)=>{n.d(t,{f:()=>E});var o=n(85199),i=n(99927),r=n(60012),s=n(89492),a=n(73989);n(86890);var c=n(28043),d=n(33629),l=n(66904),p=n(20417);async function E(e,t,n,E,u,m,x){let{userPoolId:h,userPoolClientId:S,userPoolEndpoint:g}=m,I=h?.split("_")[1]||"",A=new a.A(t?.SRP_B,16),R=new a.A(t?.SALT,16),f=t?.USER_ID_FOR_SRP;if(!f)throw new o.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let y=await u.getPasswordAuthenticationKey({username:f,password:e,serverBValue:A,salt:R}),C=(0,c.q)(),P={USERNAME:f,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:C,PASSWORD_CLAIM_SIGNATURE:(0,d.I)({username:f,userPoolName:I,challengeParameters:t,dateNow:C,hkdf:y})},v=await x.getDeviceMetadata(f);v&&v.deviceKey&&(P.DEVICE_KEY=v.deviceKey);let N=(0,l.d)({username:f,userPoolId:h,userPoolClientId:S}),T=(0,i.H)({endpointResolver:(0,r.o)({endpointOverride:g})}),w=await T({region:(0,s.J)(h)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:P,ClientMetadata:n,Session:E,ClientId:S,UserContextData:N});return"DEVICE_SRP_AUTH"===w.ChallengeName?(0,p.O)({username:f,config:m,clientMetadata:n,session:w.Session,tokenOrchestrator:x}):w}},28043:(e,t,n)=>{n.d(t,{q:()=>r});let o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=()=>{let e=new Date,t=i[e.getUTCDay()],n=o[e.getUTCMonth()],r=e.getUTCDate(),s=e.getUTCHours();s<10&&(s=`0${s}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let c=e.getUTCSeconds();c<10&&(c=`0${c}`);let d=e.getUTCFullYear();return`${t} ${n} ${r} ${s}:${a}:${c} UTC ${d}`}},33132:(e,t,n)=>{n.d(t,{k:()=>P});var o=n(36035),i=n(98785),r=n(38452),s=n(17314),a=n(40002),c=n(35975),d=n(49173),l=n(86614),p=n(36145),E=n(88692),u=n(27263),m=n(46199),x=n(66904),h=n(77137),S=n(60012),g=n(89492),I=n(82684),A=n(84657),R=n(64294);async function f({username:e,clientMetadata:t,config:n,tokenOrchestrator:o,preferredChallenge:i,password:a,session:c}){let{userPoolId:d,userPoolClientId:l,userPoolEndpoint:p}=n,E=(0,x.d)({username:e,userPoolId:d,userPoolClientId:l}),u={USERNAME:e};if(i){if("PASSWORD_SRP"===i)return(0,s.M)(!!a,r.P.EmptySignInPassword),(0,A.L)({username:e,password:a,clientMetadata:t,config:n,tokenOrchestrator:o,authFlow:"USER_AUTH",preferredChallenge:i});"PASSWORD"===i&&((0,s.M)(!!a,r.P.EmptySignInPassword),u.PASSWORD=a),u.PREFERRED_CHALLENGE=i}let f={AuthFlow:"USER_AUTH",AuthParameters:u,ClientMetadata:t,ClientId:l,UserContextData:E};c&&(f.Session=c);let y=(0,h.R)({endpointResolver:(0,S.o)({endpointOverride:p})}),C=await y({region:(0,g.J)(d),userAgentValue:(0,I.A)(m.BM.SignIn)},f);return(0,R.d)(e),C}var y=n(76647),C=n(4229);async function P(e){let{username:t,password:n,options:m}=e,x=o.H.getConfig().Auth?.Cognito,h={loginId:t,authFlowType:"USER_AUTH"};(0,i.$y)(x);let S=m?.clientMetadata,g=m?.preferredChallenge;(0,s.M)(!!t,r.P.EmptySignInUsername);try{let e={username:t,config:x,tokenOrchestrator:u.o,clientMetadata:S,preferredChallenge:g,password:n},o=d.z.getState();o.active&&o.username===t&&(e.session=o.session);let i=await f(e),r=(0,c.ni)(t);if((0,l.wr)({signInSession:i.Session,username:r,challengeName:i.ChallengeName,signInDetails:h}),i.AuthenticationResult)return await (0,p.i)({username:r,...i.AuthenticationResult,NewDeviceMetadata:await (0,y.i)({userPoolId:x.userPoolId,userPoolEndpoint:x.userPoolEndpoint,newDeviceMetadata:i.AuthenticationResult.NewDeviceMetadata,accessToken:i.AuthenticationResult.AccessToken}),signInDetails:h}),(0,l.jN)(),await (0,E.Q)(),(0,C.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,c.q2)({challengeName:i.ChallengeName,challengeParameters:i.ChallengeParameters,availableChallenges:"AvailableChallenges"in i?i.AvailableChallenges:void 0})}catch(t){(0,l.jN)(),(0,C.xO)(),(0,a.e)(t);let e=(0,c.m$)(t.name);if(e)return e;throw t}}},33629:(e,t,n)=>{n.d(t,{I:()=>a});var o=n(86890),i=n(62879),r=n(46417),s=n(78968);let a=({userPoolName:e,username:t,challengeParameters:n,dateNow:r,hkdf:a})=>{let d=s.U.convert(e),l=s.U.convert(t),p=c(n.SECRET_BLOCK),E=s.U.convert(r),u=new Uint8Array(d.byteLength+l.byteLength+p.byteLength+E.byteLength);u.set(d,0),u.set(l,d.byteLength),u.set(p,d.byteLength+l.byteLength),u.set(E,d.byteLength+l.byteLength+p.byteLength);let m=new o.I(a);m.update(u);let x=m.digestSync();return i.Y.convert(x)},c=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),o=r.m.convert(n),i=new Uint8Array(o.length);for(let e=0;e<o.length;++e)i[e]=o.charCodeAt(e);return i}},35975:(e,t,n)=>{n.d(t,{AR:()=>eh,ni:()=>eS,q2:()=>el,m$:()=>ep,XE:()=>eE,ty:()=>ec,tE:()=>ed,h5:()=>es,Zw:()=>ea});var o,i=n(36035),r=n(46199),s=n(98785),a=n(99896),c=n(85199),d=n(64641),l=n(54539),p=n(38452),E=n(17314),u=n(22224),m=n(52248),x=n(82684),h=n(77137),S=n(99927),g=n(2954),I=n(16271),A=n(73540),R=n(46869),f=n(15720),y=n(60012),C=n(89492),P=n(36145),v=n(88692),N=n(86614),T=n(61848),w=n(53944),U=n(98711);class M extends T.x{constructor(e){super(e),this.constructor=M,Object.setPrototypeOf(this,M.prototype)}}!function(e){e.PasskeyNotSupported="PasskeyNotSupported",e.PasskeyAlreadyExists="PasskeyAlreadyExists",e.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",e.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",e.RelyingPartyMismatch="RelyingPartyMismatch",e.PasskeyRegistrationFailed="PasskeyRegistrationFailed",e.PasskeyRetrievalFailed="PasskeyRetrievalFailed",e.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",e.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",e.PasskeyOperationAborted="PasskeyOperationAborted"}(o||(o={}));let F="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.",_="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",D="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",O={[o.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:F},[o.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:D},[o.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:D},[o.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:F},[o.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[o.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[o.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:_},[o.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:_},[o.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:_},[o.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},b=(0,w.p)(O,M);var L=n(48196),q=n(62879);let B=e=>q.Y.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0});var H=n(46417);let k=e=>Uint8Array.from(H.m.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,V=async e=>{try{let t=(0,L.B)()&&window.isSecureContext&&"credentials"in navigator&&"function"==typeof window.PublicKeyCredential;b(t,o.PasskeyNotSupported);let n=(e=>{let t=k(e.challenge),n=(e.allowCredentials||[]).map(e=>({...e,id:k(e.id)}));return{...e,challenge:t,allowCredentials:n}})(e),i=await navigator.credentials.get({publicKey:n});return!function(e){b(e&&e instanceof PublicKeyCredential&&e.response instanceof AuthenticatorAssertionResponse,o.PasskeyRetrievalFailed)}(i),(e=>{let t={clientDataJSON:B(e.response.clientDataJSON),authenticatorData:B(e.response.authenticatorData),signature:B(e.response.signature)};e.response.userHandle&&(t.userHandle=B(e.response.userHandle));let n={id:e.id,rawId:B(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(n.authenticatorAttachment=e.authenticatorAttachment),n})(i)}catch(e){throw(e=>{if(e instanceof M)return e;if(e instanceof Error&&"NotAllowedError"===e.name){let{message:t,recoverySuggestion:n}=O[o.PasskeyAuthenticationCanceled];return new M({name:o.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:n,underlyingError:e})}return(e=>{if(e instanceof Error){if("AbortError"===e.name){let{message:t,recoverySuggestion:n}=O[o.PasskeyOperationAborted];return new M({name:o.PasskeyOperationAborted,message:t,recoverySuggestion:n,underlyingError:e})}if("SecurityError"===e.name){let{message:t,recoverySuggestion:n}=O[o.RelyingPartyMismatch];return new M({name:o.RelyingPartyMismatch,message:t,recoverySuggestion:n,underlyingError:e})}}return new M({name:U.m.Unknown,message:"An unknown error has occurred.",underlyingError:e})})(e)})(e)}};var W=n(76647);async function $(e){let t=i.H.getConfig().Auth?.Cognito;(0,s.$y)(t);let{username:n,signInSession:a,signInDetails:d,challengeName:p}=N.c$.getState();if("WEB_AUTHN"!==p||!n)throw new c.l({name:l.nC.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:E}=e;b(!!E,o.InvalidPasskeyAuthenticationOptions);let u=await V(JSON.parse(E)),m=(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:h,ChallengeParameters:g,AuthenticationResult:I,Session:A}=await m({region:(0,C.J)(t.userPoolId),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(u)},ClientId:t.userPoolClientId,Session:a});if((0,N.wr)({signInSession:A,username:n,challengeName:h,signInDetails:d}),I)return await (0,P.i)({...I,username:n,NewDeviceMetadata:await (0,W.i)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:I.NewDeviceMetadata,accessToken:I.AccessToken}),signInDetails:d}),N.c$.dispatch({type:"RESET_STATE"}),await (0,v.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if("WEB_AUTHN"===h)throw new c.l({name:l.nC.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:h,challengeParameters:g}}var z=n(84657);async function K({username:e,session:t,selectedChallenge:n,config:o,clientMetadata:i}){return(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:o.userPoolEndpoint})})({region:(0,C.J)(o.userPoolId),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:{USERNAME:e,ANSWER:n},ClientId:o.userPoolClientId,Session:t,ClientMetadata:i})}var G=n(66904),J=n(64294);async function Y(e,t,n,o,i){let{userPoolId:s,userPoolClientId:a,userPoolEndpoint:c}=o,d=(0,G.d)({username:e,userPoolId:s,userPoolClientId:a}),l=(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:c})}),p=await l({region:(0,C.J)(s),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:{ANSWER:"PASSWORD",USERNAME:e,PASSWORD:t},ClientId:a,ClientMetadata:n,Session:i,UserContextData:d}),E=p.ChallengeParameters?.USERNAME??e;return(0,J.d)(E),p}var j=n(78317);n(86890);var Z=n(70763),Q=n(27796);async function X(e,t,n,o,i,s){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=o,l=a.split("_")[1]||"",p=await (0,j.H)(l),E={ANSWER:"PASSWORD_SRP",USERNAME:e,SRP_A:p.A.toString(16)},u=(0,G.d)({username:e,userPoolId:a,userPoolClientId:c}),m=(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:d})}),h=await m({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"SELECT_CHALLENGE",ChallengeResponses:E,ClientId:c,ClientMetadata:n,Session:i,UserContextData:u}),g=h.ChallengeParameters?.USERNAME??e;return((0,J.d)(g),"PASSWORD_VERIFIER"===h.ChallengeName)?(0,Z.i)(Q.f,[t,h.ChallengeParameters,n,h.Session,p,o,s],g,s):h}var ee=n(20417);let et="userAttributes.";async function en({challengeResponse:e,clientMetadata:t,session:n,username:o,config:i,tokenOrchestrator:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=i,l={USERNAME:o,ANSWER:e},p=await s?.getDeviceMetadata(o);p&&p.deviceKey&&(l.DEVICE_KEY=p.deviceKey);let E=(0,G.d)({username:o,userPoolId:a,userPoolClientId:c}),u=(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:d})}),m=await u({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:l,Session:n,ClientMetadata:t,ClientId:c,UserContextData:E});return"DEVICE_SRP_AUTH"===m.ChallengeName?(0,ee.O)({username:o,config:i,clientMetadata:t,session:m.Session,tokenOrchestrator:s}):m}async function eo({challengeResponse:e,username:t,clientMetadata:n,session:o,deviceName:i,config:s}){let{userPoolId:a,userPoolClientId:d,userPoolEndpoint:p}=s;if("EMAIL"===e)return{ChallengeName:"MFA_SETUP",Session:o,ChallengeParameters:{MFAS_CAN_SETUP:'["EMAIL_OTP"]'},$metadata:{}};if("TOTP"===e)return{ChallengeName:"MFA_SETUP",Session:o,ChallengeParameters:{MFAS_CAN_SETUP:'["SOFTWARE_TOKEN_MFA"]'},$metadata:{}};let E={USERNAME:t};if(/^\d+$/.test(e)){let t,s=(t={endpointResolver:(0,y.o)({endpointOverride:p})},(0,g.A)(I.e,(0,A._)("VerifySoftwareToken"),(0,R.T)(),{...f.C,...t})),{Session:c}=await s({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{UserCode:e,Session:o,FriendlyDeviceName:i});return N.c$.dispatch({type:"SET_SIGN_IN_SESSION",value:c}),(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:p})})({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"MFA_SETUP",ChallengeResponses:E,Session:c,ClientMetadata:n,ClientId:d})}if(e.includes("@"))return E.EMAIL=e,(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:p})})({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"MFA_SETUP",ChallengeResponses:E,Session:o,ClientMetadata:n,ClientId:d});throw new c.l({name:l.nC.SignInException,message:`Cannot proceed with MFA setup using challengeResponse: ${e}`,recoverySuggestion:'Try passing "EMAIL", "TOTP", a valid email, or OTP code as the challengeResponse.'})}async function ei({challengeResponse:e,username:t,clientMetadata:n,session:o,config:i}){var s;let a,{userPoolId:c,userPoolClientId:d,userPoolEndpoint:l}=i;(0,E.M)("TOTP"===e||"SMS"===e||"EMAIL"===e,p.P.IncorrectMFAMethod);let u={USERNAME:t,ANSWER:(a="SMS_MFA","TOTP"===(s=e)&&(a="SOFTWARE_TOKEN_MFA"),"EMAIL"===s&&(a="EMAIL_OTP"),a)},m=(0,G.d)({username:t,userPoolId:c,userPoolClientId:d});return(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:l})})({region:(0,C.J)(c),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:u,Session:o,ClientMetadata:n,ClientId:d,UserContextData:m})}async function er({challengeResponse:e,clientMetadata:t,session:n,username:o,requiredAttributes:i,config:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=s,l={...function(e){if(!e)return{};let t={};return Object.entries(e).forEach(([e,n])=>{n&&(t[`${et}${e}`]=n)}),t}(i),NEW_PASSWORD:e,USERNAME:o},p=(0,G.d)({username:o,userPoolId:a,userPoolClientId:c});return(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:d})})({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:"NEW_PASSWORD_REQUIRED",ChallengeResponses:l,ClientMetadata:t,Session:n,ClientId:c,UserContextData:p})}async function es(e,t,n,o,i){let{userPoolClientId:s,userPoolId:a,userPoolEndpoint:c}=o,d={USERNAME:e,PASSWORD:t},l=await i.getDeviceMetadata(e);l&&l.deviceKey&&(d.DEVICE_KEY=l.deviceKey);let p=(0,G.d)({username:e,userPoolId:a,userPoolClientId:s}),E=(0,h.R)({endpointResolver:(0,y.o)({endpointOverride:c})}),u=await E({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:s,UserContextData:p}),m=u.ChallengeParameters?.USERNAME??u.ChallengeParameters?.USER_ID_FOR_SRP??e;return((0,J.d)(m),"DEVICE_SRP_AUTH"===u.ChallengeName)?(0,ee.O)({username:m,config:o,clientMetadata:n,session:u.Session,tokenOrchestrator:i}):u}async function ea(e,t,n,o,i){return(0,z.L)({username:e,password:t,clientMetadata:n,config:o,tokenOrchestrator:i,authFlow:"USER_SRP_AUTH"})}async function ec(e,t,n,o){let{userPoolClientId:i,userPoolId:s,userPoolEndpoint:a}=n,c={USERNAME:e},d=await o.getDeviceMetadata(e);d&&d.deviceKey&&(c.DEVICE_KEY=d.deviceKey);let l=(0,G.d)({username:e,userPoolId:s,userPoolClientId:i}),p=(0,h.R)({endpointResolver:(0,y.o)({endpointOverride:a})}),E=await p({region:(0,C.J)(s),userAgentValue:(0,x.A)(r.BM.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:c,ClientMetadata:t,ClientId:i,UserContextData:l}),u=E.ChallengeParameters?.USERNAME??e;return((0,J.d)(u),"DEVICE_SRP_AUTH"===E.ChallengeName)?(0,ee.O)({username:u,config:n,clientMetadata:t,session:E.Session,tokenOrchestrator:o}):E}async function ed(e,t,n,o,i){(0,s.$y)(o);let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=o,l=a?.split("_")[1]||"",p=await (0,j.H)(l),E={USERNAME:e,SRP_A:p.A.toString(16),CHALLENGE_NAME:"SRP_A"},u=(0,G.d)({username:e,userPoolId:a,userPoolClientId:c}),m=(0,h.R)({endpointResolver:(0,y.o)({endpointOverride:d})}),{ChallengeParameters:S,Session:g}=await m({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:E,ClientMetadata:n,ClientId:c,UserContextData:u}),I=S?.USERNAME??e;return(0,J.d)(I),(0,Z.i)(Q.f,[t,S,n,g,p,o,i],I,i)}async function el(e){var t,n,o;let{challengeName:r,challengeParameters:d,availableChallenges:p}=e,E=i.H.getConfig().Auth?.Cognito;switch((0,s.$y)(E),r){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:d}};case"MFA_SETUP":{let{signInSession:e,username:o}=N.c$.getState(),i=em(ex(d.MFAS_CAN_SETUP))||[],r=i.filter(e=>"EMAIL"===e||"TOTP"===e),s=r.includes("TOTP"),p=r.includes("EMAIL");if(s&&p)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:r}};if(p)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(s){let i,r=(i={endpointResolver:(0,y.o)({endpointOverride:E.userPoolEndpoint})},(0,g.A)(I.e,(0,A._)("AssociateSoftwareToken"),(0,R.T)(),{...f.C,...i})),{Session:s,SecretCode:c}=await r({region:(0,C.J)(E.userPoolId)},{Session:e});return N.c$.dispatch({type:"SET_SIGN_IN_SESSION",value:s}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:(t=c,n=o,{sharedSecret:t,getSetupUri:(e,o)=>{let i=`otpauth://totp/${e}:${o??n}?secret=${t}&issuer=${e}`;return new a.o(i)}})}}}throw new c.l({name:l.nC.SignInException,message:`Cannot initiate MFA setup from available types: ${i}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(o=d.requiredAttributes)?JSON.parse(o).map(e=>e.includes(et)?e.replace(et,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:em(ex(d.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:d.CODE_DELIVERY_DELIVERY_MEDIUM,destination:d.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:d.CODE_DELIVERY_DELIVERY_MEDIUM,destination:d.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let e=await $(d);if("isSignedIn"in e&&"nextStep"in e)return e;return el(e)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:p}}}throw new c.l({name:l.nC.SignInException,message:`An error occurred during the sign in process. ${r} challengeName returned by the underlying service was not addressed.`})}function ep(e){return e===d.zh.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===d.zh.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}async function eE(e,t,n,o,i,r,s,a){let d=a?.userAttributes,p=a?.friendlyDeviceName;switch(t){case"WEB_AUTHN":case"SELECT_CHALLENGE":if("PASSWORD_SRP"===o||"PASSWORD"===o)return{ChallengeName:o,Session:n,$metadata:{}};return K({username:e,session:n,selectedChallenge:o,config:i,clientMetadata:s});case"SELECT_MFA_TYPE":return ei({challengeResponse:o,clientMetadata:s,session:n,username:e,config:i});case"MFA_SETUP":return eo({challengeResponse:o,clientMetadata:s,session:n,username:e,deviceName:p,config:i});case"NEW_PASSWORD_REQUIRED":return er({challengeResponse:o,clientMetadata:s,session:n,username:e,requiredAttributes:d,config:i});case"CUSTOM_CHALLENGE":return(0,Z.i)(en,[{challengeResponse:o,clientMetadata:s,session:n,username:e,config:i,tokenOrchestrator:r}],e,r);case"SMS_MFA":case"SOFTWARE_TOKEN_MFA":case"SMS_OTP":case"EMAIL_OTP":return eg({challengeName:t,challengeResponse:o,clientMetadata:s,session:n,username:e,config:i});case"PASSWORD":return Y(e,o,s,i,n);case"PASSWORD_SRP":return X(e,o,s,i,n,r)}throw new c.l({name:l.nC.SignInException,message:`An error occurred during the sign in process.
		${t} challengeName returned by the underlying service was not addressed.`})}function eu(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":"EMAIL_OTP"===e?"EMAIL":void 0}function em(e){if(e)return e.map(eu).filter(Boolean)}function ex(e){return e?JSON.parse(e):[]}async function eh(){let e;try{e=await (0,m.H)()}catch(e){}if(e&&e.userId&&e.username)throw new c.l({name:u.z0,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function eS(e){return N.c$.getState().username??e}async function eg({challengeName:e,challengeResponse:t,clientMetadata:n,session:o,username:i,config:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=s,l={USERNAME:i};"EMAIL_OTP"===e&&(l.EMAIL_OTP_CODE=t),"SMS_MFA"===e&&(l.SMS_MFA_CODE=t),"SMS_OTP"===e&&(l.SMS_OTP_CODE=t),"SOFTWARE_TOKEN_MFA"===e&&(l.SOFTWARE_TOKEN_MFA_CODE=t);let p=(0,G.d)({username:i,userPoolId:a,userPoolClientId:c});return(0,S.H)({endpointResolver:(0,y.o)({endpointOverride:d})})({region:(0,C.J)(a),userAgentValue:(0,x.A)(r.BM.ConfirmSignIn)},{ChallengeName:e,ChallengeResponses:l,Session:o,ClientMetadata:n,ClientId:c,UserContextData:p})}},36145:(e,t,n)=>{n.d(t,{i:()=>s});var o=n(98785),i=n(61848),r=n(27263);async function s(e){if(e.AccessToken){let t,n,i,s=(0,o.Cq)(e.AccessToken),a=1e3*(s.payload.iat||0),c=new Date().getTime();e.RefreshToken&&(n=e.RefreshToken),e.IdToken&&(t=(0,o.Cq)(e.IdToken)),e?.NewDeviceMetadata&&(i=e.NewDeviceMetadata);let d={accessToken:s,idToken:t,refreshToken:n,clockDrift:a>0?a-c:0,deviceMetadata:i,username:e.username};e?.signInDetails&&(d.signInDetails=e.signInDetails),await r.o.setTokens({tokens:d})}else throw new i.x({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}},37016:(e,t,n)=>{n.d(t,{J:()=>R});var o=n(35975),i=n(36035),r=n(98785),s=n(38452),a=n(17314),c=n(40002),d=n(86614),l=n(36145),p=n(27263),E=n(88692),u=n(70763),m=n(76647);async function x(e){let t=i.H.getConfig().Auth?.Cognito;(0,r.$y)(t);let{username:n,password:x,options:h}=e,S={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},g=h?.clientMetadata;(0,a.M)(!!n,s.P.EmptySignInUsername),(0,a.M)(!x,s.P.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:r,Session:s}=await (0,u.i)(o.ty,[n,g,t,p.o],n,p.o),a=(0,o.ni)(n);if((0,d.wr)({signInSession:s,username:a,challengeName:e,signInDetails:S}),r)return await (0,l.i)({username:a,...r,NewDeviceMetadata:await (0,m.i)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:r.NewDeviceMetadata,accessToken:r.AccessToken}),signInDetails:S}),(0,d.jN)(),await (0,E.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,o.q2)({challengeName:e,challengeParameters:i})}catch(t){(0,d.jN)(),(0,c.e)(t);let e=(0,o.m$)(t.name);if(e)return e;throw t}}async function h(e){let{username:t,password:n,options:u}=e,x={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},h=i.H.getConfig().Auth?.Cognito;(0,r.$y)(h);let S=u?.clientMetadata;(0,a.M)(!!t,s.P.EmptySignInUsername),(0,a.M)(!!n,s.P.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:r,Session:s}=await (0,o.tE)(t,n,S,h,p.o),a=(0,o.ni)(t);if((0,d.wr)({signInSession:s,username:a,challengeName:e,signInDetails:x}),r)return await (0,l.i)({username:a,...r,NewDeviceMetadata:await (0,m.i)({userPoolId:h.userPoolId,userPoolEndpoint:h.userPoolEndpoint,newDeviceMetadata:r.NewDeviceMetadata,accessToken:r.AccessToken}),signInDetails:x}),(0,d.jN)(),await (0,E.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,o.q2)({challengeName:e,challengeParameters:i})}catch(t){(0,d.jN)(),(0,c.e)(t);let e=(0,o.m$)(t.name);if(e)return e;throw t}}var S=n(4229);async function g(e){let{username:t,password:n}=e,u=i.H.getConfig().Auth?.Cognito,x={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,r.$y)(u);let h=e.options?.clientMetadata;(0,a.M)(!!t,s.P.EmptySignInUsername),(0,a.M)(!!n,s.P.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:r,Session:s}=await (0,o.Zw)(t,n,h,u,p.o),a=(0,o.ni)(t);if((0,d.wr)({signInSession:s,username:a,challengeName:e,signInDetails:x}),r)return await (0,l.i)({username:a,...r,NewDeviceMetadata:await (0,m.i)({userPoolId:u.userPoolId,userPoolEndpoint:u.userPoolEndpoint,newDeviceMetadata:r.NewDeviceMetadata,accessToken:r.AccessToken}),signInDetails:x}),(0,d.jN)(),await (0,E.Q)(),(0,S.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,o.q2)({challengeName:e,challengeParameters:i})}catch(t){(0,d.jN)(),(0,S.xO)(),(0,c.e)(t);let e=(0,o.m$)(t.name);if(e)return e;throw t}}async function I(e){let{username:t,password:n,options:x}=e,h=i.H.getConfig().Auth?.Cognito,g={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,r.$y)(h);let I=x?.clientMetadata;(0,a.M)(!!t,s.P.EmptySignInUsername),(0,a.M)(!!n,s.P.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:i,AuthenticationResult:r,Session:s}=await (0,u.i)(o.h5,[t,n,I,h,p.o],t,p.o),a=(0,o.ni)(t);if((0,d.wr)({signInSession:s,username:a,challengeName:e,signInDetails:g}),r)return await (0,l.i)({...r,username:a,NewDeviceMetadata:await (0,m.i)({userPoolId:h.userPoolId,userPoolEndpoint:h.userPoolEndpoint,newDeviceMetadata:r.NewDeviceMetadata,accessToken:r.AccessToken}),signInDetails:g}),(0,d.jN)(),await (0,E.Q)(),(0,S.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,o.q2)({challengeName:e,challengeParameters:i})}catch(t){(0,d.jN)(),(0,S.xO)(),(0,c.e)(t);let e=(0,o.m$)(t.name);if(e)return e;throw t}}var A=n(33132);async function R(e){(0,S.xO)(!1);let t=e.options?.authFlowType;switch(await (0,o.AR)(),t){case"USER_SRP_AUTH":default:return g(e);case"USER_PASSWORD_AUTH":return I(e);case"CUSTOM_WITHOUT_SRP":return x(e);case"CUSTOM_WITH_SRP":return h(e);case"USER_AUTH":return(0,A.k)(e)}}},38452:(e,t,n)=>{var o;n.d(t,{P:()=>o}),function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword"}(o||(o={}))},38490:(e,t,n)=>{n.d(t,{d:()=>i});var o=n(82177);let i=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let i=e.slice(n,n+2).toLowerCase();if(i in o.hv)t[n/2]=o.hv[i];else throw Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return t}},49173:(e,t,n)=>{function o(){return{active:!1}}n.d(t,{z:()=>i});let i=(e=>{let t=e(o(),{type:"RESET"});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})((e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return o();default:return e}})},54539:(e,t,n)=>{n.d(t,{fs:()=>o,nC:()=>i,ut:()=>s});var o,i,r=n(38452);let s={[r.P.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[r.P.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[r.P.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[r.P.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[r.P.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[r.P.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[r.P.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[r.P.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[r.P.EmptySignInPassword]:{message:"password is required to signIn"},[r.P.EmptySignInUsername]:{message:"username is required to signIn"},[r.P.EmptySignUpPassword]:{message:"password is required to signUp"},[r.P.EmptySignUpUsername]:{message:"username is required to signUp"},[r.P.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[r.P.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[r.P.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[r.P.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[r.P.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"}(o||(o={})),function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"}(i||(i={}))},62879:(e,t,n)=>{n.d(t,{Y:()=>i});var o=n(63441);let i={convert(e,t={urlSafe:!1,skipPadding:!1}){let n="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),i=(0,o.xA)()(n);return t.urlSafe&&(i=i.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(i=i.replace(/=/g,"")),i}}},64294:(e,t,n)=>{n.d(t,{d:()=>i});var o=n(86614);function i(e){let{dispatch:t}=o.c$;t({type:"SET_USERNAME",value:e})}},64641:(e,t,n)=>{var o,i,r,s,a,c,d,l,p,E,u,m,x,h,S,g,I,A,R,f,y,C,P,v;n.d(t,{AU:()=>R,zh:()=>S}),function(e){e.ConcurrentModificationException="ConcurrentModificationException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException"}(o||(o={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(i||(i={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UsernameExistsException="UsernameExistsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(r||(r={})),function(e){e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(s||(s={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(a||(a={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(c||(c={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(d||(d={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(l||(l={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(p||(p={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(E||(E={})),function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"}(u||(u={})),function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"}(m||(m={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(x||(x={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException"}(h||(h={})),function(e){e.PasswordResetRequiredException="PasswordResetRequiredException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(S||(S={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"}(g||(g={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.MFAMethodNotFoundException="MFAMethodNotFoundException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(I||(I={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(A||(A={})),function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UsernameExistsException="UsernameExistsException"}(R||(R={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(f||(f={})),function(e){e.CodeMismatchException="CodeMismatchException",e.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(y||(y={})),function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(C||(C={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(P||(P={})),function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"}(v||(v={}))},66904:(e,t,n)=>{n.d(t,{d:()=>o});function o({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let o=window.AmazonCognitoAdvancedSecurityData;if(void 0===o)return;let i=o.getData(e,t,n);return i?{EncodedData:i}:{}}},70763:(e,t,n)=>{n.d(t,{i:()=>i});var o=n(85199);async function i(e,t,n,i){try{return await e(...t)}catch(r){if(r instanceof o.l&&"ResourceNotFoundException"===r.name&&r.message.includes("Device does not exist."))return await i.clearDeviceMetadata(n),e(...t);throw r}}},73989:(e,t,n)=>{let o,i,r;function s(e,t){null!=e&&this.fromString(e,t)}function a(){return new s(null,null)}n.d(t,{A:()=>s});let c="undefined"!=typeof navigator;c&&"Microsoft Internet Explorer"===navigator.appName?(s.prototype.am=function(e,t,n,o,i,r){let s=32767&t,a=t>>15;for(;--r>=0;){let t=32767&this[e],r=this[e++]>>15,c=a*t+r*s;i=((t=s*t+((32767&c)<<15)+n[o]+(0x3fffffff&i))>>>30)+(c>>>15)+a*r+(i>>>30),n[o++]=0x3fffffff&t}return i},o=30):c&&"Netscape"!==navigator.appName?(s.prototype.am=function(e,t,n,o,i,r){for(;--r>=0;){let r=t*this[e++]+n[o]+i;i=Math.floor(r/0x4000000),n[o++]=0x3ffffff&r}return i},o=26):(s.prototype.am=function(e,t,n,o,i,r){let s=16383&t,a=t>>14;for(;--r>=0;){let t=16383&this[e],r=this[e++]>>14,c=a*t+r*s;i=((t=s*t+((16383&c)<<14)+n[o]+i)>>28)+(c>>14)+a*r,n[o++]=0xfffffff&t}return i},o=28),s.prototype.DB=o,s.prototype.DM=(1<<o)-1,s.prototype.DV=1<<o,s.prototype.FV=0x10000000000000,s.prototype.F1=52-o,s.prototype.F2=2*o-52;let d=[];for(r=0,i=48;r<=9;++r)d[i++]=r;for(r=10,i=97;r<36;++r)d[i++]=r;for(r=10,i=65;r<36;++r)d[i++]=r;function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function p(e){let t=a();return t.fromInt(e),t}function E(e){let t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function u(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}u.prototype.convert=function(e){let t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},u.prototype.revert=function(e){let t=a();return e.copyTo(t),this.reduce(t),t},u.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=32767&e[t],o=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,o,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},u.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},u.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else if(4===t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let o=e.length,i=!1,r=0;for(;--o>=0;){let t=function(e,t){let n=d[e.charCodeAt(t)];return null==n?-1:n}(e,o);if(t<0){"-"===e.charAt(o)&&(i=!0);continue}i=!1,0===r?this[this.t++]=t:r+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-r)-1)<<r,this[this.t++]=t>>this.DB-r):this[this.t-1]|=t<<r,(r+=n)>=this.DB&&(r-=this.DB)}this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){let n,o=e%this.DB,i=this.DB-o,r=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&r)<<o;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let o=e%this.DB,i=this.DB-o,r=(1<<o)-1;t[0]=this[n]>>o;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&r)<<i,t[e-n]=this[e]>>o;o>0&&(t[this.t-n-1]|=(this.s&r)<<i),t.t=this.t-n,t.clamp()},s.prototype.subTo=function(e,t){let n=0,o=0,i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]-e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o-=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o-=e[n],t[n++]=o&this.DM,o>>=this.DB;o-=e.s}t.s=o<0?-1:0,o<-1?t[n++]=this.DV+o:o>0&&(t[n++]=o),t.t=n,t.clamp()},s.prototype.multiplyTo=function(e,t){let n=this.abs(),o=e.abs(),i=n.t;for(t.t=i+o.t;--i>=0;)t[i]=0;for(i=0;i<o.t;++i)t[i+n.t]=n.am(0,o[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){let t=this.abs(),n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){let o=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,o,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,n){let o=e.abs();if(o.t<=0)return;let i=this.abs();if(i.t<o.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null===n&&(n=a());let r=a(),c=this.s,d=e.s,l=this.DB-E(o[o.t-1]);l>0?(o.lShiftTo(l,r),i.lShiftTo(l,n)):(o.copyTo(r),i.copyTo(n));let p=r.t,u=r[p-1];if(0===u)return;let m=u*(1<<this.F1)+(p>1?r[p-2]>>this.F2:0),x=this.FV/m,h=(1<<this.F1)/m,S=1<<this.F2,g=n.t,I=g-p,A=null===t?a():t;for(r.dlShiftTo(I,A),n.compareTo(A)>=0&&(n[n.t++]=1,n.subTo(A,n)),s.ONE.dlShiftTo(p,A),A.subTo(r,r);r.t<p;)r[r.t++]=0;for(;--I>=0;){let e=n[--g]===u?this.DM:Math.floor(n[g]*x+(n[g-1]+S)*h);if((n[g]+=r.am(0,e,n,I,0,p))<e)for(r.dlShiftTo(I,A),n.subTo(A,n);n[g]<--e;)n.subTo(A,n)}null!==t&&(n.drShiftTo(p,t),c!==d&&s.ZERO.subTo(t,t)),n.t=p,n.clamp(),l>0&&n.rShiftTo(l,n),c<0&&s.ZERO.subTo(n,n)},s.prototype.invDigit=function(){if(this.t<1)return 0;let e=this[0];if((1&e)==0)return 0;let t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.addTo=function(e,t){let n=0,o=0,i=Math.min(e.t,this.t);for(;n<i;)o+=this[n]+e[n],t[n++]=o&this.DM,o>>=this.DB;if(e.t<this.t){for(o+=e.s;n<this.t;)o+=this[n],t[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<e.t;)o+=e[n],t[n++]=o&this.DM,o>>=this.DB;o+=e.s}t.s=o<0?-1:0,o>0?t[n++]=o:o<-1&&(t[n++]=this.DV+o),t.t=n,t.clamp()},s.prototype.toString=function(e){let t,n;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let o=(1<<t)-1,i=!1,r="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,r=l(n));s>=0;)a<t?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&o,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(r+=l(n));return i?r:"0"},s.prototype.negate=function(){let e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+E(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){let t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.equals=function(e){return 0===this.compareTo(e)},s.prototype.add=function(e){let t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){let t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){let t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){let t=a();return this.divRemTo(e,t,null),t},s.prototype.modPow=function(e,t,n){let o,i,r,s=e.bitLength(),c=p(1),d=new u(t);if(s<=0)return c;let l=[],m=3,x=(o=s<18?1:s<48?3:s<144?4:s<768?5:6)-1,h=(1<<o)-1;if(l[1]=d.convert(this),o>1){let e=a();for(d.sqrTo(l[1],e);m<=h;)l[m]=a(),d.mulTo(e,l[m-2],l[m]),m+=2}let S=e.t-1,g=!0,I=a();for(s=E(e[S])-1;S>=0;){for(s>=x?i=e[S]>>s-x&h:(i=(e[S]&(1<<s+1)-1)<<x-s,S>0&&(i|=e[S-1]>>this.DB+s-x)),m=o;(1&i)==0;)i>>=1,--m;if((s-=m)<0&&(s+=this.DB,--S),g)l[i].copyTo(c),g=!1;else{for(;m>1;)d.sqrTo(c,I),d.sqrTo(I,c),m-=2;m>0?d.sqrTo(c,I):(r=c,c=I,I=r),d.mulTo(I,l[i],c)}for(;S>=0&&(e[S]&1<<s)==0;)d.sqrTo(c,I),r=c,c=I,I=r,--s<0&&(s=this.DB-1,--S)}let A=d.revert(c);return n(null,A),A},s.ZERO=p(0),s.ONE=p(1)},76647:(e,t,n)=>{n.d(t,{i:()=>m});var o=n(62879);let i=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t="",platformVersion:n="",model:o="",architecture:i="",fullVersionList:r=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,n,i,o,t,r.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")||navigator.userAgent};var r=n(2954),s=n(16271),a=n(73540),c=n(46869),d=n(15720),l=n(60012),p=n(89492),E=n(78317),u=n(38490);async function m({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:m}){if(!n)return;let x=e.split("_")[1]||"",h=await (0,E.H)(x),S=n?.DeviceKey,g=n?.DeviceGroupKey;try{await h.generateHashDevice(g??"",S??"")}catch(e){return}let I={Salt:o.Y.convert((0,u.d)(h.getSaltToHashDevices())),PasswordVerifier:o.Y.convert((0,u.d)(h.getVerifierDevices()))},A=h.getRandomPassword();try{let o,E=(o={endpointResolver:(0,l.o)({endpointOverride:t})},(0,r.A)(s.e,(0,a._)("ConfirmDevice"),(0,c.T)(),{...d.C,...o}));return await E({region:(0,p.J)(e)},{AccessToken:m,DeviceName:await i(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:I}),{deviceKey:S,deviceGroupKey:g,randomPassword:A}}catch(e){return}}n(86890)},77137:(e,t,n)=>{n.d(t,{R:()=>c});var o=n(2954),i=n(73540),r=n(46869),s=n(16271),a=n(15720);let c=e=>(0,o.A)(s.e,(0,i._)("InitiateAuth"),(0,r.T)(),{...a.C,...e})},78317:(e,t,n)=>{n.d(t,{H:()=>R});var o=n(85199),i=n(78968),r=n(73989);let s=async({a:e,g:t,k:n,x:o,B:i,N:r,U:s})=>new Promise((a,c)=>{t.modPow(o,r,(t,d)=>{if(t)return void c(t);i.subtract(n.multiply(d)).modPow(e.add(s.multiply(o)),r,(e,t)=>{if(e)return void c(e);a(t.mod(r))})})});var a=n(38490),c=n(86890),d=n(82177);let l=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=d.pU[e[n]];return t},p=e=>{let t=new c.I;t.update(e);let n=l(t.digestSync());return Array(64-n.length).join("0")+n},E=e=>p((0,a.d)(e)),u=/^[89a-f]/i,m=e=>{if(!(e instanceof r.A))throw Error("Not a BigInteger");let t=0>e.compareTo(r.A.ZERO),n=e.abs().toString(16);if(n=n.length%2!=0?`0${n}`:n,n=u.test(n)?`00${n}`:n,t){let e=n.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join("");(n=new r.A(e,16).add(r.A.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n};var x=n(63441);class h{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*n.length}random(e){let t=[];for(let n=0;n<e;n+=4)t.push((0,x.MY)().getRandomValues(new Uint32Array(1))[0]);return new h(t,e)}toString(){return function(e){let{words:t}=e,{sigBytes:n}=e,o=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")}(this)}}let S=e=>{let t=new h().random(e).toString();return(0,a.d)(t)};var g=n(62879);class I{constructor({userPoolName:e,a:t,g:n,A:o,N:s}){this.encoder=i.U,this.userPoolName=e,this.a=t,this.g=n,this.A=o,this.N=s,this.k=new r.A(E(`${m(s)}${m(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new o.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new o.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new o.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=g.Y.convert(S(40));let n=p(`${e}${t}:${this.randomPassword}`),o=l(S(16));return this.saltToHashDevices=m(new r.A(o,16)),new Promise((e,t)=>{this.g.modPow(new r.A(E(this.saltToHashDevices+n),16),this.N,(n,o)=>{if(n)return void t(n);this.verifierDevices=m(o),e()})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:o}){if(n.mod(this.N).equals(r.A.ZERO))throw Error("B cannot be zero.");let i=(({A:e,B:t})=>{let n=new r.A(E(m(e)+m(t)),16);if(n.equals(r.A.ZERO))throw Error("U cannot be zero.");return n})({A:this.A,B:n}),d=p(`${this.userPoolName}${e}:${t}`),l=new r.A(E(m(o)+d),16),u=await s({a:this.a,g:this.g,k:this.k,x:l,B:n,N:this.N,U:i}),x=this.encoder.convert("Caldera Derived Key"),h=this.encoder.convert("\x01"),S=new Uint8Array(x.byteLength+h.byteLength);return S.set(x,0),S.set(h,x.byteLength),((e,t,n)=>{let o=new c.I(t);o.update(e);let i=o.digestSync(),r=new c.I(i);return r.update(n),r.digestSync().slice(0,16)})((0,a.d)(m(u)),(0,a.d)(m(i)),S)}}let A=async({a:e,g:t,N:n})=>new Promise((o,i)=>{t.modPow(e,n,(e,t)=>e?void i(e):t.mod(n).equals(r.A.ZERO)?void i(Error("Illegal parameter. A mod N cannot be 0.")):void o(t))}),R=async e=>{let t=new r.A(d.oA,16),n=new r.A("2",16),o=f(),i=await A({a:o,g:n,N:t});return new I({userPoolName:e,a:o,g:n,A:i,N:t})},f=()=>{let e=l(S(128));return new r.A(e,16)}},78968:(e,t,n)=>{n.d(t,{U:()=>o});let o={convert:e=>new TextEncoder().encode(e)}},82177:(e,t,n)=>{n.d(t,{hv:()=>r,oA:()=>o,pU:()=>i});let o="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",i={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,r[t]=e}},84462:(e,t,n)=>{n.d(t,{H:()=>_});var o=n(36035),i=n(98785),r=n(46199),s=n(17314),a=n(38452),c=n(89492),d=n(18407),l=n(69414),p=n(37016),E=n(85199),u=n(4229),m=n(22224),x=n(33132);function h(e,t){let n;return o=>{n||e(...o),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let S=h(function(e,t,n){let o=Date.now(),i=setInterval(async()=>{if(Date.now()-o>18e4)clearInterval(i),n(new E.l({name:m.A0,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),(0,u.xO)();else try{let n=await (0,p.J)(e);"CONFIRM_SIGN_UP"!==n.nextStep.signInStep&&(t(n),clearInterval(i),(0,u.xO)())}catch(e){clearInterval(i),n(e),(0,u.xO)()}},5e3)},300),g=h(I,300);async function I(e,t,n){try{let n=e?.options?.authFlowType==="USER_AUTH"?await (0,x.k)(e):await (0,p.J)(e);t(n),(0,u.xO)()}catch(e){n(e),(0,u.xO)()}}function A(e){return async()=>new Promise((t,n)=>{g([e,t,n])})}var R=n(66904),f=n(82684),y=n(2954),C=n(31851),P=n(54539),v=n(40002),N=n(64641),T=n(73540),w=n(16271),U=n(15720),M=n(60012),F=n(49173);async function _(e){let t,{username:n,password:p,options:m}=e,x=o.H.getConfig().Auth?.Cognito,h=x?.signUpVerificationMethod??"code",{clientMetadata:g,validationData:I,autoSignIn:_}=e.options??{};(0,i.$y)(x),(0,s.M)(!!n,a.P.EmptySignUpUsername);let D="boolean"!=typeof _?_:void 0,O={username:n,options:D};D?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(O.password=p);let{userPoolId:b,userPoolClientId:L,userPoolEndpoint:q}=x,B=(t={endpointResolver:(0,M.o)({endpointOverride:q})},(0,y.A)(w.e,(0,T._)("SignUp"),async e=>{if(e.statusCode>=300){let t=await (0,C.F)(e);if((0,v.e)(t),t.name===N.AU.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=a.P.EmptySignUpPassword,{message:t,recoverySuggestion:n}=P.ut[e];throw new E.l({name:e,message:t,recoverySuggestion:n})}throw new E.l({name:t.name,message:t.message})}return(0,C.Y)(e)},{...U.C,...t})),H={Username:n,Password:void 0,UserAttributes:m?.userAttributes&&(0,d.Q)(m?.userAttributes),ClientMetadata:g,ValidationData:I&&(0,d.Q)(I),ClientId:L,UserContextData:(0,R.d)({username:n,userPoolId:b,userPoolClientId:L})};p&&(H.Password=p);let{UserSub:k,CodeDeliveryDetails:V,UserConfirmed:W,Session:$}=await B({region:(0,c.J)(b),userAgentValue:(0,f.A)(r.BM.SignUp)},H);(D||!0===_)&&(F.z.dispatch({type:"START"}),F.z.dispatch({type:"SET_USERNAME",value:n}),F.z.dispatch({type:"SET_SESSION",value:$}));let z={destination:V?.Destination,deliveryMedium:V?.DeliveryMedium,attributeName:V?.AttributeName},K=F.z.getState().active;if(W)return K?((0,u.K$)(A(O)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:k}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:k};if(K){if("link"===h)return(0,u.K$)(async()=>new Promise((e,t)=>{S([O,e,t])})),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:z},userId:k};let e=l.f3.listen("auth-internal",async({payload:t})=>{if("confirmSignUp"===t.event){let n=t.data;n?.isSignUpComplete&&(l.f3.dispatch("auth-internal",{event:"autoSignIn"}),(0,u.K$)(A(O)),e())}}),t=setTimeout(()=>{e(),clearTimeout(t),(0,u.xO)()},18e4)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:z},userId:k}}},84657:(e,t,n)=>{n.d(t,{L:()=>u});var o=n(46199),i=n(66904),r=n(78317);n(86890);var s=n(77137),a=n(60012),c=n(89492),d=n(82684),l=n(27796),p=n(70763),E=n(64294);async function u({username:e,password:t,clientMetadata:n,config:u,tokenOrchestrator:m,authFlow:x,preferredChallenge:h}){let{userPoolId:S,userPoolClientId:g,userPoolEndpoint:I}=u,A=S?.split("_")[1]||"",R=await (0,r.H)(A),f={USERNAME:e,SRP_A:R.A.toString(16)};"USER_AUTH"===x&&h&&(f.PREFERRED_CHALLENGE=h);let y=(0,i.d)({username:e,userPoolId:S,userPoolClientId:g}),C=(0,s.R)({endpointResolver:(0,a.o)({endpointOverride:I})}),P=await C({region:(0,c.J)(S),userAgentValue:(0,d.A)(o.BM.SignIn)},{AuthFlow:x,AuthParameters:f,ClientMetadata:n,ClientId:g,UserContextData:y}),{ChallengeParameters:v,Session:N}=P,T=v?.USERNAME??e;return((0,E.d)(T),"PASSWORD_VERIFIER"===P.ChallengeName)?(0,p.i)(l.f,[t,v,n,N,R,u,m],T,m):P}},86614:(e,t,n)=>{n.d(t,{c$:()=>d,jN:()=>s,wr:()=>l});var o=n(60319);let i="CognitoSignInState",r={username:`${i}.username`,challengeName:`${i}.challengeName`,signInSession:`${i}.signInSession`,expiry:`${i}.expiry`},s=()=>{d.dispatch({type:"RESET_STATE"})},a=()=>{for(let e of Object.values(r))o.pR.removeItem(e)},c=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),d=(e=>{let t=e(c(),{type:"SET_INITIAL_STATE"});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})((e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return p({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return p(t.value),{...t.value};case"SET_CHALLENGE_NAME":return p({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return p({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return(()=>{let e=o.pR.getItem(r.expiry);if(!e||Number(e)<=Date.now())return a(),c();let t=o.pR.getItem(r.username)??void 0;return{username:t,challengeName:o.pR.getItem(r.challengeName)??void 0,signInSession:o.pR.getItem(r.signInSession)??void 0}})();case"RESET_STATE":return a(),c();default:return e}});function l(e){d.dispatch({type:"SET_SIGN_IN_STATE",value:e})}let p=({challengeName:e,signInSession:t,username:n})=>{n&&o.pR.setItem(r.username,n),e&&o.pR.setItem(r.challengeName,e),t&&(o.pR.setItem(r.signInSession,t),o.pR.setItem(r.expiry,String(Date.now()+18e4)))}},88692:(e,t,n)=>{n.d(t,{Q:()=>a});var o=n(69414),i=n(52248),r=n(22224),s=n(85199);let a=async()=>{try{o.YZ.dispatch("auth",{event:"signedIn",data:await (0,i.H)()},"Auth",o.U9)}catch(e){if(e.name===r.zz)throw new s.l({name:r.yA,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}}},92210:(e,t,n)=>{n.d(t,{z:()=>A});var o=n(36035),i=n(98785),r=n(46199),s=n(69414),a=n(17314),c=n(38452),d=n(89492),l=n(82684),p=n(66904),E=n(2954),u=n(15720),m=n(16271),x=n(73540),h=n(46869),S=n(60012),g=n(49173),I=n(4229);async function A(e){let t,{username:n,confirmationCode:A,options:R}=e,f=o.H.getConfig().Auth?.Cognito;(0,i.$y)(f);let{userPoolId:y,userPoolClientId:C,userPoolEndpoint:P}=f,v=R?.clientMetadata;(0,a.M)(!!n,c.P.EmptyConfirmSignUpUsername),(0,a.M)(!!A,c.P.EmptyConfirmSignUpCode);let N=(0,p.d)({username:n,userPoolId:y,userPoolClientId:C}),T=(t={endpointResolver:(0,S.o)({endpointOverride:P})},(0,E.A)(m.e,(0,x._)("ConfirmSignUp"),(0,h.T)(),{...u.C,...t})),{Session:w}=await T({region:(0,d.J)(f.userPoolId),userAgentValue:(0,l.A)(r.BM.ConfirmSignUp)},{Username:n,ConfirmationCode:A,ClientMetadata:v,ForceAliasCreation:R?.forceAliasCreation,ClientId:f.userPoolClientId,UserContextData:N});return new Promise((e,t)=>{try{let t={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},o=g.z.getState();if(!o.active||o.username!==n){e(t),(0,I.xO)();return}g.z.dispatch({type:"SET_SESSION",value:w});let i=s.f3.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),i())});s.f3.dispatch("auth-internal",{event:"confirmSignUp",data:t})}catch(e){t(e)}})}},99927:(e,t,n)=>{n.d(t,{H:()=>c});var o=n(2954),i=n(16271),r=n(73540),s=n(46869),a=n(15720);let c=e=>(0,o.A)(i.e,(0,r._)("RespondToAuthChallenge"),(0,s.T)(),{...a.C,...e})}}]);