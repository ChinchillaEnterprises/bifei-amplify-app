(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63565:(e,s,t)=>{Promise.resolve().then(t.bind(t,78007))},78007:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var l=t(95155),r=t(82885),n=t(55895),a=t(72610);t(74944);var i=t(35695),o=t(6874),d=t.n(o),c=t(88304),x=t(12115);let h={name:"golden-dragon-theme",tokens:{colors:{brand:{primary:{10:"#fef3c7",20:"#fde68a",40:"#fbbf24",60:"#f59e0b",80:"#d97706",90:"#b45309",100:"#92400e"}},background:{primary:"#ffffff",secondary:"#fef3c7"}},components:{authenticator:{router:{borderColor:"#d97706",backgroundColor:"#ffffff",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},button:{primary:{backgroundColor:"#991b1b",color:"#ffffff",borderColor:"#991b1b",_hover:{backgroundColor:"#7f1d1d",borderColor:"#7f1d1d"}},link:{color:"#991b1b",_hover:{color:"#7f1d1d"}}},fieldcontrol:{_focus:{borderColor:"#d97706"}},tabs:{item:{_active:{color:"#991b1b",borderColor:"#991b1b"},_hover:{color:"#d97706"}}}}}};function m(){(0,i.useRouter)();let{checkUser:e}=(0,c.A)();return(0,x.useEffect)(()=>{let s=setInterval(()=>{e()},1e3);return()=>clearInterval(s)},[e]),(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white",children:[(0,l.jsx)(r.A,{}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-red-900 to-red-700 py-12",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto text-center text-white px-4",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Welcome to Golden Dragon"}),(0,l.jsx)("p",{className:"text-xl text-gold",children:"金龙餐厅会员中心"}),(0,l.jsx)("p",{className:"mt-4 text-red-100",children:"Join our family for exclusive offers and easy reservations"})]})}),(0,l.jsx)("section",{className:"py-12 px-4 -mt-8",children:(0,l.jsx)("div",{className:"max-w-lg mx-auto",children:(0,l.jsx)(n.N,{theme:h,children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl overflow-hidden border-2 border-gold",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-gold to-yellow-400 p-4 text-center",children:[(0,l.jsx)("span",{className:"text-3xl",children:"\uD83E\uDD5F"}),(0,l.jsx)("h2",{className:"text-red-900 font-bold text-lg mt-2",children:"Member Portal"})]}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(a.k,{socialProviders:["google"],formFields:{signUp:{preferred_username:{label:"Preferred Name",placeholder:"How should we address you?",isRequired:!1,order:1},phone_number:{label:"Phone Number",placeholder:"For reservation confirmations",isRequired:!1,order:2}}},components:{SignIn:{Header:()=>(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-red-900",children:"Welcome Back!"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to access your account"})]})},SignUp:{Header:()=>(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold text-red-900",children:"Create Account"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Join Golden Dragon family today!"}),(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4",children:(0,l.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,l.jsx)("span",{className:"font-semibold",children:"\uD83C\uDF81 New Member Bonus:"})," Get 10% off your first order!"]})})]})}},children:e=>{var s,t,r,n;let{signOut:a,user:i}=e;return(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-800 to-red-600 rounded-full mb-4",children:(0,l.jsx)("span",{className:"text-3xl text-white",children:"\uD83D\uDC64"})}),(0,l.jsxs)("h1",{className:"text-2xl font-bold text-red-900 mb-2",children:["Welcome, ",(null==i||null==(t=i.signInDetails)||null==(s=t.loginId)?void 0:s.split("@")[0])||"User","!"]}),(0,l.jsx)("p",{className:"text-gray-600",children:"You are now signed in to Golden Dragon"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-red-50 rounded-lg p-6 border border-gold",children:[(0,l.jsx)("h3",{className:"font-bold text-red-900 mb-3",children:"Your Member Benefits"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-gold",children:"✓"}),(0,l.jsx)("span",{className:"text-gray-700",children:"10% off first order"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-gold",children:"✓"}),(0,l.jsx)("span",{className:"text-gray-700",children:"Priority reservations"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-gold",children:"✓"}),(0,l.jsx)("span",{className:"text-gray-700",children:"Birthday specials"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-gold",children:"✓"}),(0,l.jsx)("span",{className:"text-gray-700",children:"Exclusive offers"})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-3",children:[(0,l.jsx)(d(),{href:"/reservation",className:"w-full bg-gradient-to-r from-red-800 to-red-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-red-700 hover:to-red-500 transition transform hover:scale-105 inline-block text-center shadow-lg",children:"\uD83C\uDF7D️ Make a Reservation"}),(0,l.jsx)(d(),{href:"/menu",className:"w-full bg-gradient-to-r from-gold to-yellow-400 text-red-900 py-3 px-4 rounded-lg font-semibold hover:from-yellow-400 hover:to-yellow-300 transition transform hover:scale-105 inline-block text-center shadow-lg",children:"\uD83D\uDCDC Browse Our Menu"}),(0,l.jsx)(d(),{href:"/delivery",className:"w-full bg-white text-red-900 border-2 border-red-800 py-3 px-4 rounded-lg font-semibold hover:bg-red-50 transition transform hover:scale-105 inline-block text-center",children:"\uD83D\uDE9A Order Delivery"})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"Account Information"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:"Email:"}),(0,l.jsx)("span",{children:null==i||null==(r=i.signInDetails)?void 0:r.loginId})]}),!1,(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:"Member ID:"}),(0,l.jsxs)("span",{className:"text-xs",children:[null==i||null==(n=i.userId)?void 0:n.substring(0,8),"..."]})]})]})]}),(0,l.jsx)("div",{className:"pt-4 border-t",children:(0,l.jsx)("button",{onClick:a,className:"text-red-600 hover:text-red-700 font-medium transition",children:"Sign Out"})})]})]})}})}),(0,l.jsx)("div",{className:"bg-gradient-to-r from-red-900 to-red-700 p-4 text-center text-white text-sm",children:(0,l.jsx)("p",{children:"\uD83C\uDFEE Authentic Chinese Cuisine Since 1985 \uD83C\uDFEE"})})]})})})}),(0,l.jsx)("section",{className:"py-8 px-4",children:(0,l.jsx)("div",{className:"max-w-lg mx-auto",children:(0,l.jsxs)("div",{className:"flex justify-center space-x-8 text-gray-500",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD12"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"Secure Login"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"Protected Data"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{className:"text-2xl",children:"✨"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"Member Benefits"})]})]})})}),(0,l.jsx)("footer",{className:"bg-red-900 text-white py-8 px-4 mt-12",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto text-center",children:[(0,l.jsx)("p",{className:"mb-2",children:"\xa9 2024 Golden Dragon Restaurant | 金龙餐厅"}),(0,l.jsx)("p",{className:"text-sm opacity-75",children:"Serving authentic Chinese cuisine with pride"})]})})]})}},82885:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var l=t(95155),r=t(12115),n=t(6874),a=t.n(n),i=t(35695),o=t(88304);function d(){let[e,s]=(0,r.useState)(!1),{user:t,userAttributes:n,userGroups:d,signOutUser:c,isInGroup:x}=(0,o.A)(),h=(0,i.useRouter)(),m=async()=>{await c(),h.push("/"),h.refresh()},u=()=>{var e;return(null==n?void 0:n.preferred_username)?n.preferred_username:(null==n?void 0:n.email)?n.email.split("@")[0]:(null==t||null==(e=t.signInDetails)?void 0:e.loginId)?t.signInDetails.loginId.split("@")[0]:(null==t?void 0:t.username)?t.username:"User"};return(0,l.jsxs)("nav",{className:"bg-red-800 shadow-lg sticky top-0 z-50",children:[(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between h-16",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)(a(),{href:"/",className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-gold",children:"\uD83E\uDD5F"}),(0,l.jsx)("span",{className:"text-xl font-bold text-white",children:"Golden Dragon"}),(0,l.jsx)("span",{className:"text-sm text-gold ml-2",children:"金龙餐厅"})]})}),(0,l.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,l.jsx)(a(),{href:"/",className:"text-white hover:text-gold transition",children:"Home"}),(0,l.jsx)(a(),{href:"/menu",className:"text-white hover:text-gold transition",children:"Menu"}),(0,l.jsx)(a(),{href:"/delivery",className:"text-white hover:text-gold transition",children:"Delivery"}),(0,l.jsx)(a(),{href:"/reservation",className:"text-white hover:text-gold transition",children:"Reservation"}),(0,l.jsx)(a(),{href:"/location",className:"text-white hover:text-gold transition",children:"Location"}),t&&x("restaurantHost")&&(0,l.jsx)(a(),{href:"/admin/host",className:"text-white hover:text-gold transition",children:"Host Dashboard"}),t&&x("maintenance")&&(0,l.jsx)(a(),{href:"/admin/maintenance",className:"text-white hover:text-gold transition",children:"Admin"}),t?(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{className:"text-gold text-sm font-semibold",children:["\uD83D\uDC64 Welcome, ",u()]}),(0,l.jsx)("button",{onClick:m,className:"bg-gold text-red-900 px-3 py-2 rounded-lg hover:bg-yellow-400 transition font-semibold text-sm",children:"Sign Out"})]}):(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a(),{href:"/signup",className:"text-white hover:text-gold transition font-semibold",children:"Sign Up"}),(0,l.jsx)(a(),{href:"/login",className:"bg-gold text-red-900 px-4 py-2 rounded-lg hover:bg-yellow-400 transition font-semibold",children:"Login"})]})]}),(0,l.jsx)("div",{className:"md:hidden flex items-center",children:(0,l.jsx)("button",{onClick:()=>s(!e),className:"text-white hover:text-gold focus:outline-none",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,l.jsx)("path",{d:"M6 18L18 6M6 6l12 12"}):(0,l.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),e&&(0,l.jsx)("div",{className:"md:hidden bg-red-700",children:(0,l.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[(0,l.jsx)(a(),{href:"/",className:"block px-3 py-2 text-white hover:text-gold",children:"Home"}),(0,l.jsx)(a(),{href:"/menu",className:"block px-3 py-2 text-white hover:text-gold",children:"Menu"}),(0,l.jsx)(a(),{href:"/delivery",className:"block px-3 py-2 text-white hover:text-gold",children:"Delivery"}),(0,l.jsx)(a(),{href:"/reservation",className:"block px-3 py-2 text-white hover:text-gold",children:"Reservation"}),(0,l.jsx)(a(),{href:"/location",className:"block px-3 py-2 text-white hover:text-gold",children:"Location"}),t&&x("restaurantHost")&&(0,l.jsx)(a(),{href:"/admin/host",className:"block px-3 py-2 text-white hover:text-gold",children:"Host Dashboard"}),t&&x("maintenance")&&(0,l.jsx)(a(),{href:"/admin/maintenance",className:"block px-3 py-2 text-white hover:text-gold",children:"Admin"}),t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"block px-3 py-2 text-gold text-sm font-semibold",children:["\uD83D\uDC64 Welcome, ",u()]}),(0,l.jsx)("button",{onClick:m,className:"block w-full text-left px-3 py-2 text-white hover:text-gold",children:"Sign Out"})]}):(0,l.jsx)(a(),{href:"/login",className:"block px-3 py-2 text-white hover:text-gold",children:"Login"})]})})]})}},88304:(e,s,t)=>{"use strict";t.d(s,{A:()=>x,default:()=>h});var l=t(95155),r=t(12115),n=t(69414),a=t(52248),i=t(59995),o=t(53732),d=t(29020);let c=(0,r.createContext)({user:null,userAttributes:null,userGroups:[],loading:!0,checkUser:async()=>{},signOutUser:async()=>{},isInGroup:()=>!1}),x=()=>(0,r.useContext)(c);function h(e){let{children:s}=e,[t,x]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),[u,f]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0),b=async()=>{try{let l=await (0,a.H)();x(l);try{let e=await (0,i.T)();m(e)}catch(e){console.log("Could not fetch attributes:",e)}try{var e,s,t;let l=(null==(t=(await (0,o.$)()).tokens)||null==(s=t.accessToken)||null==(e=s.payload)?void 0:e["cognito:groups"])||[];f(l)}catch(e){console.log("Could not fetch user groups:",e),f([])}}catch(e){x(null),m(null),f([])}finally{p(!1)}},j=async()=>{try{await (0,d.C)(),x(null),m(null),f([])}catch(e){console.error("Error signing out:",e)}};return(0,r.useEffect)(()=>(b(),n.YZ.listen("auth",e=>{let{payload:s}=e;switch(s.event){case"signedIn":case"tokenRefresh":b();break;case"signedOut":case"tokenRefresh_failure":x(null),m(null),f([])}})),[]),(0,l.jsx)(c.Provider,{value:{user:t,userAttributes:h,userGroups:u,loading:g,checkUser:b,signOutUser:j,isInGroup:e=>u.includes(e)},children:s})}}},e=>{e.O(0,[809,218,244,718,112,117,441,964,358],()=>e(e.s=63565)),_N_E=e.O()}]);