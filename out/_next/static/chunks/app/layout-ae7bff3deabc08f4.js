(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{19324:()=>{},39432:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},49475:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var a=t(95155),s=t(76718),i=t(54314);function u(e){let{children:r}=e;return(0,a.jsx)(a.Fragment,{children:r})}s.E.configure(i)},54314:e=>{"use strict";e.exports=JSON.parse('{"auth":{"user_pool_id":"us-east-1_zMPI6Y9Eg","aws_region":"us-east-1","user_pool_client_id":"62ufn5mh2v7m3jf41lavi8t80g","identity_pool_id":"us-east-1:d7385309-e151-456e-a249-0aa6a98bbd7b","mfa_methods":[],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"groups":[{"customer":{"precedence":0}},{"restaurantHost":{"precedence":1}},{"maintenance":{"precedence":2}}],"mfa_configuration":"NONE","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true},"unauthenticated_identities_enabled":true},"data":{"url":"https://qkzhpzqnfffvbcjyftz22ku7ja.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-3djy3i57e5bndgszane7zrc2se","default_authorization_type":"API_KEY","authorization_types":["AMAZON_COGNITO_USER_POOLS","AWS_IAM"],"model_introspection":{"version":1,"models":{"Reservation":{"name":"Reservation","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"customerName":{"name":"customerName","isArray":false,"type":"String","isRequired":true,"attributes":[]},"email":{"name":"email","isArray":false,"type":"AWSEmail","isRequired":true,"attributes":[]},"phone":{"name":"phone","isArray":false,"type":"AWSPhone","isRequired":false,"attributes":[]},"date":{"name":"date","isArray":false,"type":"AWSDate","isRequired":true,"attributes":[]},"time":{"name":"time","isArray":false,"type":"String","isRequired":true,"attributes":[]},"numberOfGuests":{"name":"numberOfGuests","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"specialRequests":{"name":"specialRequests","isArray":false,"type":"String","isRequired":false,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"ReservationStatus"},"isRequired":false,"attributes":[]},"userId":{"name":"userId","isArray":false,"type":"String","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Reservations","attributes":[{"type":"model","properties":{}},{"type":"key","properties":{"fields":["id"]}},{"type":"auth","properties":{"rules":[{"allow":"public","provider":"apiKey","operations":["create","read"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read"],"groups":["customer"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read","update"],"groups":["restaurantHost"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read","update","delete"],"groups":["maintenance"]},{"provider":"userPools","ownerField":"owner","allow":"owner","operations":["read","update"],"identityClaim":"cognito:username"}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Order":{"name":"Order","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"customerName":{"name":"customerName","isArray":false,"type":"String","isRequired":true,"attributes":[]},"email":{"name":"email","isArray":false,"type":"AWSEmail","isRequired":true,"attributes":[]},"phone":{"name":"phone","isArray":false,"type":"AWSPhone","isRequired":false,"attributes":[]},"deliveryAddress":{"name":"deliveryAddress","isArray":false,"type":"String","isRequired":true,"attributes":[]},"items":{"name":"items","isArray":false,"type":"AWSJSON","isRequired":true,"attributes":[]},"subtotal":{"name":"subtotal","isArray":false,"type":"Float","isRequired":true,"attributes":[]},"tax":{"name":"tax","isArray":false,"type":"Float","isRequired":true,"attributes":[]},"deliveryFee":{"name":"deliveryFee","isArray":false,"type":"Float","isRequired":true,"attributes":[]},"total":{"name":"total","isArray":false,"type":"Float","isRequired":true,"attributes":[]},"status":{"name":"status","isArray":false,"type":{"enum":"OrderStatus"},"isRequired":false,"attributes":[]},"specialInstructions":{"name":"specialInstructions","isArray":false,"type":"String","isRequired":false,"attributes":[]},"userId":{"name":"userId","isArray":false,"type":"String","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]}},"syncable":true,"pluralName":"Orders","attributes":[{"type":"model","properties":{}},{"type":"key","properties":{"fields":["id"]}},{"type":"auth","properties":{"rules":[{"allow":"public","provider":"apiKey","operations":["create","read"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read"],"groups":["customer"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["read","update"],"groups":["restaurantHost"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read","update","delete"],"groups":["maintenance"]},{"provider":"userPools","ownerField":"owner","allow":"owner","operations":["read"],"identityClaim":"cognito:username"}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"MenuItem":{"name":"MenuItem","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"nameZh":{"name":"nameZh","isArray":false,"type":"String","isRequired":true,"attributes":[]},"description":{"name":"description","isArray":false,"type":"String","isRequired":false,"attributes":[]},"descriptionZh":{"name":"descriptionZh","isArray":false,"type":"String","isRequired":false,"attributes":[]},"category":{"name":"category","isArray":false,"type":{"enum":"MenuItemCategory"},"isRequired":false,"attributes":[]},"price":{"name":"price","isArray":false,"type":"Float","isRequired":true,"attributes":[]},"imageUrl":{"name":"imageUrl","isArray":false,"type":"AWSURL","isRequired":false,"attributes":[]},"spicyLevel":{"name":"spicyLevel","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"isVegetarian":{"name":"isVegetarian","isArray":false,"type":"Boolean","isRequired":false,"attributes":[]},"isGlutenFree":{"name":"isGlutenFree","isArray":false,"type":"Boolean","isRequired":false,"attributes":[]},"isAvailable":{"name":"isAvailable","isArray":false,"type":"Boolean","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"MenuItems","attributes":[{"type":"model","properties":{}},{"type":"key","properties":{"fields":["id"]}},{"type":"auth","properties":{"rules":[{"allow":"public","provider":"apiKey","operations":["read"]},{"allow":"private","operations":["read"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["read","update"],"groups":["restaurantHost"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read","update","delete"],"groups":["maintenance"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"User":{"name":"User","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"email":{"name":"email","isArray":false,"type":"AWSEmail","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":false,"attributes":[]},"phoneNumber":{"name":"phoneNumber","isArray":false,"type":"AWSPhone","isRequired":false,"attributes":[]},"role":{"name":"role","isArray":false,"type":{"enum":"UserRole"},"isRequired":false,"attributes":[]},"memberSince":{"name":"memberSince","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"totalOrders":{"name":"totalOrders","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"totalSpent":{"name":"totalSpent","isArray":false,"type":"Float","isRequired":false,"attributes":[]},"loyaltyPoints":{"name":"loyaltyPoints","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"Users","attributes":[{"type":"model","properties":{}},{"type":"key","properties":{"fields":["id"]}},{"type":"auth","properties":{"rules":[{"allow":"public","provider":"apiKey","operations":["create","read"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["read"],"groups":["customer"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["read","update"],"groups":["restaurantHost"]},{"groupClaim":"cognito:groups","provider":"userPools","allow":"groups","operations":["create","read","update","delete"],"groups":["maintenance"]},{"provider":"userPools","ownerField":"owner","allow":"owner","operations":["read","update"],"identityClaim":"cognito:username"}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{"ReservationStatus":{"name":"ReservationStatus","values":["pending","confirmed","cancelled"]},"OrderStatus":{"name":"OrderStatus","values":["pending","confirmed","preparing","delivering","delivered","cancelled"]},"MenuItemCategory":{"name":"MenuItemCategory","values":["appetizers","soups","poultry","beef","pork","seafood","vegetarian","rice","noodles","desserts","beverages"]},"UserRole":{"name":"UserRole","values":["customer","restaurantHost","maintenance"]}},"nonModels":{}}},"version":"1.4"}')},65688:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},75151:(e,r,t)=>{Promise.resolve().then(t.bind(t,49475)),Promise.resolve().then(t.bind(t,88304)),Promise.resolve().then(t.t.bind(t,65688,23)),Promise.resolve().then(t.t.bind(t,39432,23)),Promise.resolve().then(t.t.bind(t,19324,23))},88304:(e,r,t)=>{"use strict";t.d(r,{A:()=>d,default:()=>m});var a=t(95155),s=t(12115),i=t(69414),u=t(52248),o=t(59995),l=t(53732),n=t(29020);let p=(0,s.createContext)({user:null,userAttributes:null,userGroups:[],loading:!0,checkUser:async()=>{},signOutUser:async()=>{},isInGroup:()=>!1}),d=()=>(0,s.useContext)(p);function m(e){let{children:r}=e,[t,d]=(0,s.useState)(null),[m,y]=(0,s.useState)(null),[c,f]=(0,s.useState)([]),[g,b]=(0,s.useState)(!0),A=async()=>{try{let a=await (0,u.H)();d(a);try{let e=await (0,o.T)();y(e)}catch(e){console.log("Could not fetch attributes:",e)}try{var e,r,t;let a=(null==(t=(await (0,l.$)()).tokens)||null==(r=t.accessToken)||null==(e=r.payload)?void 0:e["cognito:groups"])||[];f(a)}catch(e){console.log("Could not fetch user groups:",e),f([])}}catch(e){d(null),y(null),f([])}finally{b(!1)}},R=async()=>{try{await (0,n.C)(),d(null),y(null),f([])}catch(e){console.error("Error signing out:",e)}};return(0,s.useEffect)(()=>(A(),i.YZ.listen("auth",e=>{let{payload:r}=e;switch(r.event){case"signedIn":case"tokenRefresh":A();break;case"signedOut":case"tokenRefresh_failure":d(null),y(null),f([])}})),[]),(0,a.jsx)(p.Provider,{value:{user:t,userAttributes:m,userGroups:c,loading:g,checkUser:A,signOutUser:R,isInGroup:e=>c.includes(e)},children:r})}}},e=>{e.O(0,[261,218,718,441,964,358],()=>e(e.s=75151)),_N_E=e.O()}]);